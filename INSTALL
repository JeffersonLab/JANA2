
Installation instructions for JANA
 6/ 5/2008 David Lawrence
 2/ 7/2010 Updated DL
 3/27/2012 Updated DL


Quick Start
--------------------
> tar xzvf jana_0.6.4.tgz
> cd jana_0.6.4
> ./configure
> make
> make install


OR

> tar xzvf jana_0.6.4.tgz
> cd jana_0.6.4
> ./configure
> scons -j8


Obtaining the Source
--------------------
The source may be obtained as a tarball from the JANA website at:

http://www.jlab.org/JANA/downloads.php

The stable versions are numbered while the "jana_svn_daily_linux.tgz"
file is regenerated from the repository nightly and should be 
considered unstable.

Unpack the tarball containing the source. For example:

>tar xzf path-to-tarball/jana_0.6.4.tgz


Configuring
------------------------------------------------
Before building, you must first configure JANA for your system.
This is done using the included configure script. Go to the top
build directory and run configure.
For example:

>cd jana_0.6.3
>./configure


Running configure with no options will cause the executables,
libraries, and header files to be marked for installation to
/usr/local. If you wish to install to a different location,
this can be specified with the --prefix (or --exec_prefix)
argument. For example:

>./configure --prefix=/usr/local/jana/0.6.3

Note that JANA can optionally compile in support for some
external packages such as the Xerces XML parser or MySQL.
The command line arguments specific to these can be found
by running configure with the -h argument. As an example,
suppose Xerces is installed in the directory /usr/local/xerces
One can then do the following:

>./configure --with-xerces=/usr/local/xerces

NOTE: For xerces, the user's XERCESCROOT environment variable 
is checked first (if it is set) automatically so that one
does not need to use the --with-xerces command line switch.
Support for most external packages is handled this way to make 
somewhat automatic to include this support.


Building and Installing
---------------------------------------
To build JANA and install it, just run "make" followed by
"make install"

>make
>make install

The binaries and headers will be installed in the directories 
parallel to src during the "make stage" and installed into
the final installation directory (see above) during "make install".

Alternatively, on can use the scons system with the provided
SConstruct script. The benefit of this is that it can do a 
parallel build which on a multi-core machine can be much faster.

>scons

You can test that the build succeeded by running one of the utility
programs. For example, the "jana" utility:

>cd ./bin/jana --janaversion


Using JANA
---------------------------------------
JANA is primarily a library so you will most likely be writing
a program that links to it. It is recommended that you set
the JANA_HOME environment variable to point to the installation
directory and then use that in your program's build system.
Also, be sure to add the installation directory+/bin to your PATH if
it is not already there so as to have access to the utilty programs
and scripts.



Contact: David Lawrence  davidl@jlab.org



